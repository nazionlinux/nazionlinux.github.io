---
id: 1585
title: 'Voidlinux velocizzare la navigazione con DNSMasq'
date: '2022-09-29T21:24:28+02:00'
author: NazionLinux
layout: post
guid: 'https://www.nazionlinux.com/?p=1585'
permalink: /voidlinux-velocizzare-la-navigazione-con-dnsmasq/
ocean_gallery_link_images:
    - 'off'
ocean_sidebar:
    - '0'
ocean_second_sidebar:
    - '0'
ocean_disable_margins:
    - enable
ocean_display_top_bar:
    - default
ocean_display_header:
    - default
ocean_center_header_left_menu:
    - '0'
ocean_custom_header_template:
    - '0'
ocean_header_custom_menu:
    - '0'
ocean_menu_typo_font_family:
    - '0'
ocean_disable_title:
    - default
ocean_disable_heading:
    - default
ocean_disable_breadcrumbs:
    - default
ocean_display_footer_widgets:
    - default
ocean_display_footer_bottom:
    - default
ocean_custom_footer_template:
    - '0'
ocean_link_format_target:
    - self
ocean_quote_format_link:
    - post
image: /wp-content/uploads/2021/01/void-linux.webp
categories:
    - GNU/Linux
    - Sistema
    - 'Void Linux'
tags:
    - dnsmasq
---

### DNSMasq velocizzare la navigazione

**DNSMasq** offre un servizio di conservazione delle richieste **DNS (Domain Name Server)** migliorando la velocità di connessione verso i siti già visitati.  
Per installarlo aprite un terminale come amministratore di sistema e lanciate il comando

<div class="wp-terminal">`xbps-install -S dnsmasq`</div>oppure utilizzare i nostri alias come descritto in **[Void Linux bash alias](https://www.nazionlinux.com/void-linux-bash-alias/ "Void Linux bash alias")**

<div class="wp-terminal">`xip dnsmasq`</div>terminata l’installazione del pacchetto **dnsmasq** editate il file **dnsmasq.conf**

<div class="wp-terminal">`nano /etc/dnsmasq.conf`</div>decommentate la riga **\#listen-address=** ed aggiungete **127.0.0.1**

> listen-address=127.0.0.1

allo stesso modo decommentate **\#resolv-file=** ed aggiungete **/etc/resolvdnsmasq.conf**

> resolv-file=/etc/resolvdnsmasq.conf

salvate il file appena modificato **ctrl + o** ed uscite **ctrl + z** da **Nano**.

Ora bisognerà creare il file **resolvdnsmasq.conf** per farlo basta lanciare il comando

<div class="wp-terminal">`nano /etc/resolvdnsmasq.conf`</div>all’interno di questo file vuoto dovete inserire i vostri server DNS oppure, per esempio, potete mettere gli indirizzi dei server **DNS** di **Cloudflare**

> nameserver 1.1.1.1  
> nameserver 1.0.0.1

salvate il file appena creato **ctrl + o** ed uscite **ctrl + z** da **Nano**.

Molti programmi di gestione delle connessioni come ad esempio **[NetworkMananer](http://www.nazionlinux.com/networkmanager-aggiornato-come-provarlo-su-kde-gnome-xfce-e-lxde/ "NetworkManager")**, **Wicd**, **Netctl**… vanno a sovrascrivere il file **resolv.conf** rendendo cosi inutile il lavoro effettuato prima.

Nella guida in inglese di **DNSMasq** si consiglia di inserire la stringa **nohook resolv.conf** alla fine del file **dhcpcd.conf** sinceramente non ho ottenuto nessun risultato il file **resolv.conf** continuava ad essere riscritto dal programma di gestione delle connessioni.  
Per evitare tutto questo in rete si possono trovare diverse soluzioni, alcune funzionanti ed altre no.  
La più semplice e secondo me la più pulita consiste nell’installare il pacchetto **openresolv**.  
Per farlo

<div class="wp-terminal">`xbps-install -S openresolv`</div>terminata l’installazione del pacchetto editate il file **resolvconf.conf**

<div class="wp-terminal">`nano /etc/resolvconf.conf`</div>decommentate la riga **\#name\_servers=127.0.0.1**

> name\_servers=127.0.0.1

salvate il file appena modificato **ctrl + o** ed uscite **ctrl + z** da **Nano**.  
Adesso fate bene **ATTENZIONE** aprire il file **resolv.conf** in questo modo

<div class="wp-terminal">`nano /etc/resolv.conf`</div>cancellate tutte le righe **nameserver** ed inserire solo **nameserver 127.0.0.1** come nell’esempio qui sotto riportato

<div class="wp-terminal">`# Generated by resolvconf<br></br>domain fastwebnet.it<br></br>nameserver 127.0.0.1`</div>salvate il file appena modificato **ctrl + o** ed uscite **ctrl + z** da **Nano**.

Per finire lanciare il demone **dnsmasq** all’avvio di sistema con il comando

<div class="wp-terminal">`ln -s /etc/sv/dnsmasq /var/service/`</div>e riavviate il computer.  
Se non volete riavviare il vostro computer e volete provare subito le modifiche lanciate il comando

<div class="wp-terminal">`sv restart /var/service/dnsmasq`</div>per controllare se tutto funziona aprite il vostro navigatore e controllate se la vostra navigazione risulta più veloce.

Un altro modo per aumentare la velocità di navigazione consiste nell’utilizzare un programma di navigazione leggero come ad esempio **[Ayumi](https://github.com/o6n/Ayumi "Ayumi")** del nostro amico **[o6n](https://github.com/o6n/ "o6n")**.